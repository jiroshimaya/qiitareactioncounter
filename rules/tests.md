# テストルール

## マニュアルテスト

マニュアルテストは`manual_tests`ディレクトリに配置し、以下のルールに従って作成します：

1. テストの配置
   - `manual_tests/`ディレクトリに配置
   - ファイル名は`test_*.py`の形式
   - テスト関数名は`test_*`の形式

2. デコレータ
   - `@pytest.mark.manual`デコレータを付ける
   - これにより通常のテスト実行ではスキップされる

3. テストの実行
   - 通常のテスト実行: `uv run pytest`
   - マニュアルテストの実行: `uv run pytest -m manual`
   - 特定のマニュアルテストの実行: `uv run pytest manual_tests/test_*.py -v`

4. テストの内容
   - 実際のAPIを呼び出すテスト
   - 環境変数やトークンが必要なテスト
   - 実行に時間がかかるテスト
   - CIでは実行できないテスト

5. テストのクリーンアップ
   - テストで生成したファイルは必ず削除
   - テストで作成したディレクトリも削除

6. テストのドキュメント
   - テストの目的を明確にドキュメント化
   - 必要な環境変数や設定を明記
   - テストの実行手順を記載

例：
```python
@pytest.mark.manual
def test_some_feature():
    """機能のマニュアルテスト
    実際のAPIを呼び出して、機能が正しく動作することを確認します。
    """
    # テストの実装
``` 