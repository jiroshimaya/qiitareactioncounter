# テストルール

## テストの種類と配置

### 自動テスト
- `tests/`ディレクトリに配置
- ファイル名は`test_*.py`の形式
- テスト関数名は`test_*`の形式
- CIで自動実行される
- モックを使用して外部依存を排除
- 高速に実行できる

### マニュアルテスト
- `manual_tests/`ディレクトリに配置
- ファイル名は`manual_test_*.py`の形式
- テスト関数名は`test_*`の形式
- 以下のようなテストを含む：
  - 実際のAPIを呼び出すテスト
  - 環境変数やトークンが必要なテスト
  - 実行に時間がかかるテスト
  - CIでは実行できないテスト

## テストの実行方法

### 自動テストの実行
```bash
uv run pytest
```

### マニュアルテストの実行
```bash
uv run pytest manual_tests/manual_test_*.py -v
```

## テストの実装ルール

1. テストの配置
   - 自動テストは`tests/`ディレクトリに配置
   - マニュアルテストは`manual_tests/`ディレクトリに配置

2. テストのクリーンアップ
   - テストで生成したファイルは必ず削除
   - テストで作成したディレクトリも削除

3. テストのドキュメント
   - テストの目的を明確にドキュメント化
   - 必要な環境変数や設定を明記
   - テストの実行手順を記載

例：
```python
def test_some_feature():
    """機能のテスト
    機能が正しく動作することを確認します。
    """
    # テストの実装
```

# テストファイルの命名規則

## 自動テスト
- ファイル名は `test_*.py` の形式
- `tests/` ディレクトリに配置

## 手動テスト
- ファイル名は `manual_test_*.py` の形式
- `manual_tests/` ディレクトリに配置 